# 上海大学二手商城项目技术栈及功能介绍报告

## 📋 项目概述

上海大学二手商城是一个基于前后端分离架构的电商平台，专门为上海大学师生提供二手物品交易服务。项目采用现代化的技术栈，提供了完整的用户注册登录、商品发布交易、购物车、订单管理等电商核心功能。

## 🛠️ 技术栈分析

### 后端技术栈

#### **核心框架与语言**
- **Go 1.25.4** - 主编程语言，性能优异，适合高并发场景
- **Gin Framework** - 高性能的Go Web框架，提供RESTful API服务
- **GORM** - Go语言的ORM框架，支持MySQL、PostgreSQL等数据库

#### **数据存储**
- **MySQL 8.0** - 关系型数据库，存储用户、商品、订单等结构化数据
- **Redis** - 缓存数据库，提升系统性能和响应速度
- **七牛云OSS** - 云存储服务，支持图片等静态资源的存储和分发

#### **中间件与工具**
- **JWT (JSON Web Token)** - 用户身份认证和授权
- **RabbitMQ** - 消息队列，支持异步任务处理
- **Elasticsearch** - 搜索引擎，支持商品全文检索
- **SMTP** - 邮件服务，支持邮箱验证和通知
- **Logrus** - 结构化日志记录
- **Viper** - 配置管理

#### **开发工具**
- **Go Modules** - Go依赖管理
- **Air** - Go热重载开发工具
- **Postman** - API测试工具

### 前端技术栈

#### **核心框架**
- **Vue 3** - 渐进式JavaScript框架，采用Composition API
- **TypeScript** - 类型安全的JavaScript超集，提升代码质量
- **Vite** - 下一代前端构建工具，开发体验极佳

#### **UI框架与组件**
- **Element Plus** - 基于Vue 3的企业级UI组件库
- **@element-plus/icons-vue** - Element Plus图标库

#### **状态管理与路由**
- **Pinia** - Vue 3官方推荐的状态管理库，轻量级且类型安全
- **Vue Router 4** - Vue官方路由管理器，支持嵌套路由和路由守卫

#### **HTTP客户端**
- **Axios** - 基于Promise的HTTP库，支持请求/响应拦截器

#### **开发工具**
- **ESLint** - JavaScript代码检查工具
- **Prettier** - 代码格式化工具
- **Vue DevTools** - Vue开发调试工具

## 🎯 功能模块详解

### 1. 用户管理系统

#### **用户注册 (User Registration)**
- **功能描述**: 支持新用户注册账号
- **技术实现**:
  - 前端表单验证：昵称、用户名、密码、确认密码
  - 后端密码加密：使用bcrypt算法
  - 邮箱验证：发送激活链接到用户邮箱
- **API接口**: `POST /api/v1/user/register`
- **前端页面**: `/register`

#### **用户登录 (User Login)**
- **功能描述**: 用户账号登录系统
- **技术实现**:
  - JWT Token生成和验证
  - 支持记住登录状态
  - 密码验证和错误次数限制
- **API接口**: `POST /api/v1/user/login`
- **前端页面**: `/login`

#### **个人资料管理 (Profile Management)**
- **功能描述**: 用户可以修改个人信息
- **功能列表**:
  - 基本信息修改（昵称、头像等）
  - 邮箱绑定和验证
  - 密码修改
  - 头像上传（支持本地存储和七牛云OSS）
- **API接口**:
  - `PUT /api/v1/user` - 更新用户信息
  - `POST /api/v1/avatar` - 上传头像
  - `POST /api/v1/user/sending-email` - 发送验证邮件
  - `POST /api/v1/user/valid-email` - 验证邮箱
- **前端页面**: `/profile`

### 2. 商品管理系统

#### **商品发布 (Product Creation)**
- **功能描述**: 用户可以发布二手商品
- **技术实现**:
  - 多图片上传支持
  - 商品分类选择
  - 价格设置（原价、折扣价）
  - 商品描述和详细信息
- **API接口**: `POST /api/v1/product`
- **前端页面**: `/product/create`

#### **商品展示与搜索 (Product Display & Search)**
- **功能描述**: 浏览和搜索商品
- **技术实现**:
  - 分页显示商品列表
  - Elasticsearch全文搜索
  - 商品分类筛选
  - 图片懒加载
- **API接口**:
  - `GET /api/v1/products` - 获取商品列表
  - `POST /api/v1/products` - 搜索商品
  - `GET /api/v1/product/:id` - 获取商品详情
- **前端页面**: `/`, `/products`, `/product/:id`

#### **商品编辑与删除 (Product Edit & Delete)**
- **功能描述**: 商品发布者可以修改或删除自己的商品
- **技术实现**:
  - 权限验证：只有商品发布者才能操作
  - 图片更新支持
  - 软删除机制
- **API接口**:
  - `PUT /api/v1/product/:id` - 更新商品
  - `DELETE /api/v1/product/:id` - 删除商品
- **前端页面**: `/product/edit/:id`

### 3. 购物车系统 (Shopping Cart)

#### **购物车管理**
- **功能描述**: 用户可以将商品加入购物车
- **技术实现**:
  - 商品数量管理
  - 购物车商品统计
  - 批量操作支持
- **API接口**:
  - `POST /api/v1/carts` - 添加商品到购物车
  - `GET /api/v1/carts` - 获取购物车列表
  - `PUT /api/v1/carts/:id` - 更新购物车商品
  - `DELETE /api/v1/carts/:id` - 删除购物车商品

### 4. 订单管理系统 (Order Management)

#### **订单创建与管理**
- **功能描述**: 用户可以创建订单并管理订单状态
- **技术实现**:
  - 订单状态跟踪
  - 订单历史记录
  - 订单详情查看
- **API接口**:
  - `POST /api/v1/orders` - 创建订单
  - `GET /api/v1/orders` - 获取订单列表
  - `GET /api/v1/orders/:id` - 获取订单详情
  - `DELETE /api/v1/orders/:id` - 取消订单

#### **支付系统 (Payment System)**
- **功能描述**: 支持订单支付功能
- **技术实现**:
  - 第三方支付集成
  - 支付状态同步
  - 余额查询
- **API接口**:
  - `POST /api/v1/paydown` - 发起支付
  - `POST /api/v1/money` - 查询余额

### 5. 收藏夹系统 (Favorites System)

#### **商品收藏**
- **功能描述**: 用户可以收藏感兴趣的商品
- **技术实现**:
  - 收藏/取消收藏操作
  - 收藏列表管理
  - 收藏状态同步
- **API接口**:
  - `POST /api/v1/favorites` - 添加收藏
  - `GET /api/v1/favorites` - 获取收藏列表
  - `DELETE /api/v1/favorites/:id` - 取消收藏

### 6. 地址管理系统 (Address Management)

#### **收货地址管理**
- **功能描述**: 用户可以管理收货地址
- **技术实现**:
  - 多地址支持
  - 默认地址设置
  - 地址验证
- **API接口**:
  - `POST /api/v1/addresses` - 添加地址
  - `GET /api/v1/addresses` - 获取地址列表
  - `GET /api/v1/addresses/:id` - 获取地址详情
  - `PUT /api/v1/addresses/:id` - 更新地址
  - `DELETE /api/v1/addresses/:id` - 删除地址

### 7. 辅助功能模块

#### **商品分类 (Product Categories)**
- **功能描述**: 商品分类展示和管理
- **API接口**: `GET /api/v1/categories`

#### **轮播图系统 (Carousel System)**
- **功能描述**: 首页轮播图展示
- **API接口**: `GET /api/v1/carousels`

#### **商品图片管理 (Product Images)**
- **功能描述**: 商品图片的上传和管理
- **API接口**: `GET /api/v1/imgs/:id`

## 🔧 系统架构

### **后端架构**
```
├── api/           # API接口层
├── service/       # 业务逻辑层
├── repository/    # 数据访问层
│   ├── db/        # 数据库操作
│   ├── cache/     # 缓存操作
│   └── es/        # 搜索引擎
├── serializer/    # 数据序列化层
├── middleware/    # 中间件
├── pkg/           # 工具包
└── conf/          # 配置管理
```

### **前端架构**
```
├── src/
│   ├── views/      # 页面组件
│   ├── components/ # 公共组件
│   ├── router/     # 路由配置
│   ├── stores/     # 状态管理
│   ├── services/   # API服务
│   ├── types/      # 类型定义
│   └── utils/      # 工具函数
```

## 📊 数据库设计

### **核心数据表**
- **user**: 用户表
- **product**: 商品表
- **product_img**: 商品图片表
- **category**: 商品分类表
- **cart**: 购物车表
- **order**: 订单表
- **favorite**: 收藏表
- **address**: 收货地址表
- **carousel**: 轮播图表

### **数据库关系**
- 用户与商品：一对多（一个用户可以发布多个商品）
- 用户与订单：一对多
- 用户与购物车：一对多
- 用户与收藏：一对多
- 用户与地址：一对多
- 商品与图片：一对多
- 商品与分类：多对一
- 订单与商品：多对多（通过中间表）

## 🚀 部署与运行

### **开发环境**
```bash
# 启动后端
go run cmd/main.go

# 启动前端
cd frontend && npm run dev
```

### **生产环境**
```bash
# 构建前端
npm run build

# 启动后端服务
go build -o mall cmd/main.go
./mall
```

## 🎯 项目特色

1. **现代化技术栈**: 采用最新的Go和Vue 3技术栈
2. **微服务架构**: 前后端分离，职责清晰
3. **高性能**: Gin框架 + Redis缓存保证响应速度
4. **安全性**: JWT认证 + 密码加密 + 权限验证
5. **可扩展性**: 模块化设计，易于扩展新功能
6. **用户体验**: 响应式设计 + 实时反馈
7. **搜索引擎**: Elasticsearch支持全文检索
8. **云存储**: 七牛云OSS支持海量图片存储

## 📈 项目优势

- **性能优异**: Go语言高并发处理能力
- **开发效率高**: 现代化前端框架和工具链
- **维护成本低**: 清晰的代码结构和文档
- **扩展性强**: 模块化设计支持快速迭代
- **用户体验佳**: 流畅的交互和及时的反馈
- **数据安全**: 多层安全防护机制

---

*报告生成时间: 2025年12月29日*
*项目版本: v1.0.0*
*技术栈版本基于实际依赖配置*
